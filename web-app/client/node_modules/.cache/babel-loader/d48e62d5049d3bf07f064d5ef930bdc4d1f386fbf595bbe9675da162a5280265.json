{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\Ken4\\\\HKI\\\\PBL6\\\\HF\\\\web-app\\\\client\\\\src\\\\components\\\\logs\\\\log-list.js\",\n  _s = $RefreshSig$();\nimport '../../styles/popup.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport convertUTCDateToLocalDate from '../../utils/convert-date';\nimport Log from './log';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LogList = props => {\n  _s();\n  const userProfile = JSON.parse(sessionStorage.getItem('userProfile'));\n  const [product, setProduct] = useState(props.product);\n  const [logs, setLogs] = useState([]);\n  const [status, setStatus] = useState();\n  const [isOpen, setIsOpen] = useState(false);\n  const togglePopup = e => {\n    setStatus(e.target.id);\n    setIsOpen(!isOpen);\n  };\n  const setPopup = e => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isOpen && /*#__PURE__*/_jsxDEV(Log, {\n        product: logs[status],\n        close: togglePopup,\n        status: logs[status].Value.Status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 27\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 17\n    }, this);\n  };\n  const onLog = () => {};\n  var isLoaded = false;\n  useEffect(() => {\n    if (!isLoaded) {\n      axios.get(`http://192.168.1.10:8888/product/log/${product.ProductID}/${userProfile.UserType}/${userProfile.UserID}`).then(res => setLogs(res.data.data));\n      isLoaded = true;\n    }\n  }, [isLoaded]);\n  console.log(logs);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup-box\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-icon-2\",\n        onClick: props.close,\n        children: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-5\",\n        children: \"Transaction history of Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-nowrap align-middle table-borderless\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"text-center\",\n                children: \"TxId\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"text-center\",\n                children: \"Timestamp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"text-center\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"text-center\",\n                children: \"Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.keys(logs).map(key => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-body\",\n                children: logs[key].TxId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-body\",\n                children: convertUTCDateToLocalDate(new Date(logs[key].Timestamp)).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-body\",\n                children: logs[key].Value.Status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: togglePopup,\n                  id: key,\n                  children: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 37\n                }, this), setPopup()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(LogList, \"/6YUeoijG1DO3hQar1KrU/2nlA0=\");\n_c = LogList;\nexport default LogList;\nvar _c;\n$RefreshReg$(_c, \"LogList\");","map":{"version":3,"names":["useState","useEffect","axios","convertUTCDateToLocalDate","Log","LogList","props","userProfile","JSON","parse","sessionStorage","getItem","product","setProduct","logs","setLogs","status","setStatus","isOpen","setIsOpen","togglePopup","e","target","id","setPopup","Value","Status","onLog","isLoaded","get","ProductID","UserType","UserID","then","res","data","console","log","close","Object","keys","map","key","TxId","Date","Timestamp","toLocaleString"],"sources":["D:/Study/Ken4/HKI/PBL6/HF/web-app/client/src/components/logs/log-list.js"],"sourcesContent":["import '../../styles/popup.css'\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport convertUTCDateToLocalDate from '../../utils/convert-date';\r\n\r\nimport Log from './log'\r\n\r\nconst LogList = (props) => {\r\n    const userProfile = JSON.parse(sessionStorage.getItem('userProfile'))\r\n    const [product, setProduct] = useState(props.product)\r\n    const [logs, setLogs] = useState([])\r\n    const [status, setStatus] = useState()\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const togglePopup = (e) => {\r\n        setStatus(e.target.id)\r\n        setIsOpen(!isOpen)\r\n    }\r\n    const setPopup = (e) => {\r\n        return (<div>\r\n            {\r\n                isOpen && <Log\r\n                    product={logs[status]}\r\n                    close={togglePopup}\r\n                    status={logs[status].Value.Status}\r\n                />\r\n            }\r\n        </div>)\r\n    }\r\n    const onLog = () => {\r\n\r\n    }\r\n    var isLoaded = false\r\n    useEffect(() => {\r\n        if (!isLoaded) {\r\n            axios.get(`http://192.168.1.10:8888/product/log/${product.ProductID}/${userProfile.UserType}/${userProfile.UserID}`)\r\n                .then(res => setLogs(res.data.data))\r\n            isLoaded = true\r\n        }\r\n    }, [isLoaded])\r\n    console.log(logs)\r\n    return (\r\n        <div className=\"popup-box\">\r\n            <div className=\"box-2\">\r\n                <span className=\"close-icon-2\" onClick={props.close}>x</span>\r\n                <h3 className='mb-5'>Transaction history of Product</h3>\r\n                <div className='table-responsive'>\r\n                <table className=\"table table-nowrap align-middle table-borderless\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\" className=\"text-center\">TxId</th>\r\n                            <th scope=\"col\" className=\"text-center\">Timestamp</th>\r\n                            <th scope=\"col\" className=\"text-center\">Status</th>\r\n                            <th scope=\"col\" className=\"text-center\">Details</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {Object.keys(logs).map(key => (\r\n                            <tr key={key}>\r\n                                <td className=\"text-body\">{logs[key].TxId}</td>\r\n                                <td className=\"text-body\">{convertUTCDateToLocalDate(new Date(logs[key].Timestamp)).toLocaleString()}</td>\r\n                                <td className=\"text-body\">{logs[key].Value.Status}</td>\r\n                                <td className=\"text-body\">\r\n                                    <span onClick={togglePopup} id={key}>...</span>\r\n                                    {setPopup()}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}