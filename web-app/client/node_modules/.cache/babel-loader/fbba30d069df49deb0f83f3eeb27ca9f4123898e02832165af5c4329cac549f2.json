{"ast":null,"code":"var _jsxFileName = \"D:\\\\Study\\\\Ken4\\\\HKI\\\\PBL6\\\\HF\\\\web-app\\\\client\\\\src\\\\containers\\\\login.js\",\n  _s = $RefreshSig$();\nimport Login from '../components/login';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport BASE_URL from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContainer = () => {\n  _s();\n  const userProfile = JSON.parse(sessionStorage.getItem('userProfile'));\n  if (userProfile !== null) sessionStorage.removeItem('userProfile');\n  const [token, setToken] = useState({});\n  const navigate = useNavigate();\n  const [user, setUser] = useState({\n    username: \"\",\n    userType: \"manufacturer\",\n    password: \"\"\n  });\n  useEffect(() => {\n    setUser(user);\n  }, []);\n  const onChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setUser({\n      ...user,\n      [name]: value\n    });\n  };\n  let result;\n  const onLogin = async () => {\n    await axios.post(`${BASE_URL}/user/signin/${user.userType}`, {\n      username: user.username,\n      password: user.password,\n      userType: user.userType\n    }).then(res => result = res.data.data);\n    if (result.UserID === 'admin') {\n      sessionStorage.setItem('userProfile', JSON.stringify(result));\n      navigate(\"/users\");\n    } else {\n      sessionStorage.setItem('userProfile', JSON.stringify(result));\n      navigate(\"/products\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Login, {\n    onChange: onChange,\n    onLogin: onLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginContainer, \"QXuncSzQafOgzm54AOLOEsq6AAE=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginContainer;\nexport default LoginContainer;\nvar _c;\n$RefreshReg$(_c, \"LoginContainer\");","map":{"version":3,"names":["Login","useState","useEffect","useNavigate","axios","BASE_URL","LoginContainer","userProfile","JSON","parse","sessionStorage","getItem","removeItem","token","setToken","navigate","user","setUser","username","userType","password","onChange","e","name","target","value","result","onLogin","post","then","res","data","UserID","setItem","stringify"],"sources":["D:/Study/Ken4/HKI/PBL6/HF/web-app/client/src/containers/login.js"],"sourcesContent":["import Login from '../components/login'\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport axios from 'axios'\r\n\r\nimport BASE_URL from '../config'\r\n\r\nconst LoginContainer = () => {\r\n    const userProfile = JSON.parse(sessionStorage.getItem('userProfile'))\r\n    if (userProfile !== null) sessionStorage.removeItem('userProfile')\r\n    const [token, setToken] = useState({});\r\n    const navigate = useNavigate();\r\n    const [user, setUser] = useState({\r\n        username: \"\",\r\n        userType: \"manufacturer\",\r\n        password: \"\"\r\n    })\r\n    useEffect(() => {\r\n        setUser(user)\r\n    }, [])\r\n    const onChange = (e) => {\r\n        const name = e.target.name\r\n        const value = e.target.value\r\n        setUser({ ...user, [name]: value })\r\n    }\r\n    let result;\r\n    \r\n    const onLogin = async () => {\r\n        await axios.post(`${BASE_URL}/user/signin/${user.userType}`,\r\n            {\r\n                username: user.username,\r\n                password: user.password,\r\n                userType: user.userType\r\n            })\r\n            .then(res => result = res.data.data)\r\n        if (result.UserID === 'admin') {\r\n            sessionStorage.setItem('userProfile', JSON.stringify(result))\r\n            navigate(\"/users\")\r\n        }\r\n        else {\r\n            sessionStorage.setItem('userProfile', JSON.stringify(result))\r\n            navigate(\"/products\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Login onChange={onChange} onLogin={onLogin} />\r\n    )\r\n}\r\nexport default LoginContainer;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,qBAAqB;AACvC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,QAAQ,MAAM,WAAW;AAAA;AAEhC,MAAMC,cAAc,GAAG,MAAM;EAAA;EACzB,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;EACrE,IAAIJ,WAAW,KAAK,IAAI,EAAEG,cAAc,CAACE,UAAU,CAAC,aAAa,CAAC;EAClE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAMc,QAAQ,GAAGZ,WAAW,EAAE;EAC9B,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC;IAC7BiB,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,cAAc;IACxBC,QAAQ,EAAE;EACd,CAAC,CAAC;EACFlB,SAAS,CAAC,MAAM;IACZe,OAAO,CAACD,IAAI,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EACN,MAAMK,QAAQ,GAAIC,CAAC,IAAK;IACpB,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACD,IAAI;IAC1B,MAAME,KAAK,GAAGH,CAAC,CAACE,MAAM,CAACC,KAAK;IAC5BR,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAE,CAACO,IAAI,GAAGE;IAAM,CAAC,CAAC;EACvC,CAAC;EACD,IAAIC,MAAM;EAEV,MAAMC,OAAO,GAAG,YAAY;IACxB,MAAMvB,KAAK,CAACwB,IAAI,CAAE,GAAEvB,QAAS,gBAAeW,IAAI,CAACG,QAAS,EAAC,EACvD;MACID,QAAQ,EAAEF,IAAI,CAACE,QAAQ;MACvBE,QAAQ,EAAEJ,IAAI,CAACI,QAAQ;MACvBD,QAAQ,EAAEH,IAAI,CAACG;IACnB,CAAC,CAAC,CACDU,IAAI,CAACC,GAAG,IAAIJ,MAAM,GAAGI,GAAG,CAACC,IAAI,CAACA,IAAI,CAAC;IACxC,IAAIL,MAAM,CAACM,MAAM,KAAK,OAAO,EAAE;MAC3BtB,cAAc,CAACuB,OAAO,CAAC,aAAa,EAAEzB,IAAI,CAAC0B,SAAS,CAACR,MAAM,CAAC,CAAC;MAC7DX,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MACI;MACDL,cAAc,CAACuB,OAAO,CAAC,aAAa,EAAEzB,IAAI,CAAC0B,SAAS,CAACR,MAAM,CAAC,CAAC;MAC7DX,QAAQ,CAAC,WAAW,CAAC;IACzB;EACJ,CAAC;EAED,oBACI,QAAC,KAAK;IAAC,QAAQ,EAAEM,QAAS;IAAC,OAAO,EAAEM;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAG;AAEvD,CAAC;AAAA,GAzCKrB,cAAc;EAAA,QAICH,WAAW;AAAA;AAAA,KAJ1BG,cAAc;AA0CpB,eAAeA,cAAc;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}